{% extends 'base.html' %}

{% block cover %}
<div class="container">
  <div class="page-header">
    {% if limit and year %}
    <h1>Top {{limit}} Popular Items for {{year}}</h1>
    {% else %}
    <h1>Popular Items</h1>
    {% endif %}
  </div>

  {{ flash() }}

  <div class="results">
    <form class="form-horizontal" action="" method="post">
      <table class="table table-striped table-hover table-bordered">
        <thead>
          <tr class="success">
            <th>Rank</th>
            <th>Call Number</th>
            <th>Title</th>
            <th>Times Checked Out</th>
          </tr>
        </thead>

        <tbody>
          {% if topResults %}
          {% for topResult in topResults %}
          <tr>
            <td>{{topResult['rank']}}</td>
            <td>{{topResult['callNumber']}}</td>
            <td>{{topResult['title']}}</td>
            <td>{{topResult['times']}}</td>
            <td></td>
          </tr>
          {% endfor %}
          {% endif %}
        </tbody>
      </table>
    </form>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>Filter</h1>
    </div>

    <div class="well">
        <form class="form-horizontal" method="post">
          <fieldset>
            <div class="form-group">
              <label for="inputLimit" class="col-lg-2 control-label">Limit</label>
              <div class="col-lg-10">
                <input class="form-control" name="limit" id="inputLimits" placeholder="e.g. 10" type="text">
              </div>
            </div>

            <div class="form-group">
              <label for="inputYear" class="col-lg-2 control-label">Year Published</label>
              <div class="col-lg-10">
                <input class="form-control" name="year" id="inputYear" placeholder="e.g. 1990" type="text">
              </div>
            </div>

            <div class="form-group">
              <div class="col-lg-10 col-lg-offset-2">
                <button type="submit" class="btn btn-success">Filter</button>
              </div>
            </div>
          </fieldset>
        </form>
    </div>
</div>
{% endblock %}
